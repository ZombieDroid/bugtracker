<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
    <meta charset="utf-8"/>
    <title>Login</title>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/extjs/6.2.0/classic/theme-neptune/resources/theme-neptune-all.css">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/extjs/6.2.0/ext-all-debug.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/extjs/6.2.0/classic/theme-neptune/theme-neptune.js"></script>
    <script type="text/javascript">
        Ext.onReady(function () {
            var loginpanel = Ext.create('Ext.form.Panel', {
                region: 'center',
                title: 'Login',
                standardSubmit:true,
                width: 350,
                height: 350,
                url: '/login',
                items: [{
                    xtype: 'textfield',
                    fieldLabel: 'Username',
                    name: 'username'
                },
                    {
                        xtype: 'textfield',
                        inputType: 'password',
                        fieldLabel: 'Password',
                        name: 'password'
                    }],
                buttons: [
                    {
                        text: "Login",
                        handler: function() {
                            var form = this.up('form').getForm();
                            form.submit({
                                success: function(form, action) {
                                    window.location.assign("/home");
                                },
                                failure: function(form, action) {
                                    alert('Failed', action.result.msg);
                                }
                            })
                        }
                    },
                    {
                        text: "Reset",
                        handler: function() { this.up('form').getForm().reset(); }
                    }
                ]
            });
            Ext.create('Ext.panel.Panel', {
                renderTo: "maindiv",
                width: 1000,
                height:500,
                layout: 'border',
                items: [
                    {
                        region:'west', width: 140,
                        layout: {
                            type:'vbox',
                            pack:'center'
                        }
                    },
                    loginpanel,
                    { region:'east', width: 140 }
                ]
            }).center();
        });
    </script>
</head>
<body>
<div id="maindiv" style="height: 500px"/>
</body>
</html>